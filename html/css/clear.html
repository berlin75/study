<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>clearfix</title>
<style>
.clearfix:before, .clearfix:after {content: "";display: table;}
.clearfix:after {clear: both;}

.clearfixblock:before, .clearfixblock:after {content: "";display: block;}
.clearfixblock:after {clear: both;}
.clearfixblock {margin-top: .5rem;}

.fl {float: left;}
.fr {float: right;}
.nf,.fr {margin: 2rem;}
</style>
</head>
<body>
<div class="clearfix" style="background:red">
  <div class="fl">TABLE</div>
  <div class="nf">NOT FLOAT</div>
</div>

<div class="clearfixblock" style="background:green">
  <div class="fl">BLOCK</div>
  <div class="nf">NOT FLOAT</div>
</div>

<div class="clearfixblock" style="background:blue">
  <div class="fl">BLOCK</div>
  <div class="fr">FLOAT</div>
</div>

<pre>
网上讲得一堆什么使父容器形成BFC，什么防止margin塌陷。但是不给例子，我怎么搞都不会塌陷。 我本来是蓝色那一块那样测试的，看到没，我用：block，margin很正常, 并没有塌陷啊？ 后来才发现，其实margin要在一个 没有浮动的标签上，才会发生塌陷。所以 display:table就是为了解决这个 问题的。

两个都浮动的时候，并不会发生塌陷，不管你怎么测都测不出来 用block代替table有何问题。 


还有为什么 要写：before呢？我去掉也是正常清除浮动啊， 一样的，也是防止margin-top的塌陷。也是要在没有浮动的标签上的时候才能测到。

其实这个对于塌陷这个词 我是存在疑问的。它并没有塌陷，它的margin还是确确实实存在的啊，只是针对外面的容器的margin了。 塌陷的意思 不就是不存在或者变小了吗？ 

</pre>
</body>
</html>